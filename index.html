<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Javascript getting started</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.js"></script>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <!-- Latest compiled and minified JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>

    <script src="js/feedbackWidget.js"></script>
    <script src="js/Game/game.js"></script>

</head>
<body>
<script>
    $(document).ready(function () {
        let f = new FeedbackWidget("feedback")
        f.removeLog()
        $("#feedbackwidgetbutton").on("click", function () {
            f.show("1test", "error")
            f.show("2error1", "error")
            f.show("3error2", "error")
            f.show("4error3", "error")
            f.show("5success1", "success")
            f.show("6success2", "success")
            f.show("7success3", "success")
            f.show("8bla", "success")
            f.show("9bla", "success")
          //  f.show("10bla", "success")
             f.history()
        })

        function afterInit() {
            console.log('Game init voltooid')
        }
        Game.init(afterInit);
        afterInit()
        const url = 'http://api.openweathermap.org/data/2.5/weather?q=zwolle&apikey=d856e701b9205f6d6cac399ac29549b7';
        const promise = $.get(url);
        console.log(promise);
        const url2 = 'http://api.openweathermap.org/data/2.5/weather?q=zwolle&apikey=d856e701b9205f6d6cac399ac29549b7';

        $.get(url2).then(function(responseData){
            console.log(responseData);
        });

        const getWeatherData = function(){
            const url = 'http://api.openweathermap.org/data/2.5/weather?q=zwolle&apikey=d856e701b9205f6d6cac399ac29549b7';
            return $.get(url);

        };

        getWeatherData().then(d => {
            console.log(d);
        });

        getWeatherData().then(d => {
            return {
                data: d,
                meta: 'vanuit eerste schakel van de chain'
            }
        }).then(r => {
            console.log(`Bericht ontvangen in tweede schakel: ${r.meta}`);
            throw new Error('Error gegooid');
        }).catch(e => {
            console.log(`Error opgevangen, error bericht: ${e.message}`);
        });

        Game.Model.getWeather().then(d => {
            console.log(d);
        });

    });
</script>
<button type="button" id="feedbackwidgetbutton">OK</button>

<div id="feedback" class="alert" role="alert">
    <p></p>
</div>

<!--<div id="feedback-success" class="alert alert-success" role="alert">-->
<!--    <p></p>-->
<!--</div>-->
<!--<div id="feedback-danger" class="alert alert-danger" role="alert" style="display:none">-->
<!--    <p></p>-->
<!--</div>-->


</body>
</html>